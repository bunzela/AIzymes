
<style>
    body { font-family: Calibri, sans-serif; font-size: 14px; margin: 0; } 
    h1, h2, h3, ul, li { color: #333; }
    h1 { color: #4CAF50; font-size: 1.5em; margin-top: 0; margin-bottom: 0.0em; } 
    h2 { color: #4CAF50; font-size: 1.2em; margin-top: 0.0em; margin-bottom: 0; } 
    h3 { font-size: 1.0em; margin-top: 0.0em; margin-bottom: 0; } 
    ul { padding-left: 20px; list-style-type: none; }
    li { margin-bottom: 0.0em; font-size: 1.0em; }
    p { margin-top: 0.0em; margin-bottom: 1.0em; } 
    table, th, td  { font-size: 1.0em; }
    .figure-caption { font-size: 0.8em; text-align: justify; margin-top: 0.0em; margin-bottom: 0.0em; }
</style>
<br><h1>Table of Contents</h1><ul><li><a href='#code'>2. Code</a><span style='float:right;'>[page]</span><ul>
<li><a href='#AIzymes'>2.1 AIzymes</a><span style='float:right;'>[page]</span>
<ul><li><a href='#AIzymes_AIzymes_MAIN'>2.1.1 AIzymes_MAIN</a><span style='float:right;'>[page]</span></li>
<li><a href='#AIzymes___init__'>2.1.2 __init__</a><span style='float:right;'>[page]</span></li>
<li><a href='#AIzymes_setup'>2.1.3 setup</a><span style='float:right;'>[page]</span></li>
<li><a href='#AIzymes_initialize'>2.1.4 initialize</a><span style='float:right;'>[page]</span></li>
<li><a href='#AIzymes_controller'>2.1.5 controller</a><span style='float:right;'>[page]</span></li>
<li><a href='#AIzymes_plot'>2.1.6 plot</a><span style='float:right;'>[page]</span></li></ul>
</li>
<li><a href='#design_ESMfold'>2.2 design_ESMfold</a><span style='float:right;'>[page]</span>
<ul><li><a href='#design_ESMfold_prepare_ESMfold'>2.2.1 prepare_ESMfold</a><span style='float:right;'>[page]</span></li></ul>
</li>
<li><a href='#design_LigandMPNN'>2.3 design_LigandMPNN</a><span style='float:right;'>[page]</span>
<ul><li><a href='#design_LigandMPNN_prepare_LigandMPNN'>2.3.1 prepare_LigandMPNN</a><span style='float:right;'>[page]</span></li></ul>
</li>
<li><a href='#design_match'>2.4 design_match</a><span style='float:right;'>[page]</span>
</li>
<li><a href='#design_ProteinMPNN'>2.5 design_ProteinMPNN</a><span style='float:right;'>[page]</span>
<ul><li><a href='#design_ProteinMPNN_prepare_ProteinMPNN'>2.5.1 prepare_ProteinMPNN</a><span style='float:right;'>[page]</span></li></ul>
</li>
<li><a href='#design_RosettaDesign'>2.6 design_RosettaDesign</a><span style='float:right;'>[page]</span>
<ul><li><a href='#design_RosettaDesign_prepare_RosettaDesign'>2.6.1 prepare_RosettaDesign</a><span style='float:right;'>[page]</span></li></ul>
</li>
<li><a href='#design_RosettaRelax'>2.7 design_RosettaRelax</a><span style='float:right;'>[page]</span>
<ul><li><a href='#design_RosettaRelax_prepare_RosettaRelax'>2.7.1 prepare_RosettaRelax</a><span style='float:right;'>[page]</span></li></ul>
</li>
<li><a href='#helper'>2.8 helper</a><span style='float:right;'>[page]</span>
<ul><li><a href='#helper_run_command'>2.8.1 run_command</a><span style='float:right;'>[page]</span></li>
<li><a href='#helper_get_PDB_in'>2.8.2 get_PDB_in</a><span style='float:right;'>[page]</span></li>
<li><a href='#helper_save_cat_res_into_all_scores_df'>2.8.3 save_cat_res_into_all_scores_df</a><span style='float:right;'>[page]</span></li>
<li><a href='#helper_reset_to_after_index'>2.8.4 reset_to_after_index</a><span style='float:right;'>[page]</span></li>
<li><a href='#helper_wait_for_file'>2.8.5 wait_for_file</a><span style='float:right;'>[page]</span></li></ul>
</li>
<li><a href='#main_design'>2.9 main_design</a><span style='float:right;'>[page]</span>
</li>
<li><a href='#main_running'>2.10 main_running</a><span style='float:right;'>[page]</span>
<ul><li><a href='#main_running_start_controller'>2.10.1 start_controller</a><span style='float:right;'>[page]</span></li>
<li><a href='#main_running_check_running_jobs'>2.10.2 check_running_jobs</a><span style='float:right;'>[page]</span></li>
<li><a href='#main_running_update_potential'>2.10.3 update_potential</a><span style='float:right;'>[page]</span></li>
<li><a href='#main_running_update_scores'>2.10.4 update_scores</a><span style='float:right;'>[page]</span></li>
<li><a href='#main_running_boltzmann_selection'>2.10.5 boltzmann_selection</a><span style='float:right;'>[page]</span></li>
<li><a href='#main_running_check_parent_done'>2.10.6 check_parent_done</a><span style='float:right;'>[page]</span></li>
<li><a href='#main_running_start_parent_design'>2.10.7 start_parent_design</a><span style='float:right;'>[page]</span></li>
<li><a href='#main_running_start_calculation'>2.10.8 start_calculation</a><span style='float:right;'>[page]</span></li>
<li><a href='#main_running_create_new_index'>2.10.9 create_new_index</a><span style='float:right;'>[page]</span></li></ul>
</li>
<li><a href='#main_scripts'>2.11 main_scripts</a><span style='float:right;'>[page]</span>
</li>
<li><a href='#main_startup'>2.12 main_startup</a><span style='float:right;'>[page]</span>
</li>
<li><a href='#plotting'>2.13 plotting</a><span style='float:right;'>[page]</span>
<ul><li><a href='#plotting_plot_interface_v_total_score_selection'>2.13.1 plot_interface_v_total_score_selection</a><span style='float:right;'>[page]</span></li>
<li><a href='#plotting_plot_interface_v_total_score_generation'>2.13.2 plot_interface_v_total_score_generation</a><span style='float:right;'>[page]</span></li>
<li><a href='#plotting_plot_stacked_histogram_by_cat_resi'>2.13.3 plot_stacked_histogram_by_cat_resi</a><span style='float:right;'>[page]</span></li>
<li><a href='#plotting_plot_stacked_histogram_by_cat_resn'>2.13.4 plot_stacked_histogram_by_cat_resn</a><span style='float:right;'>[page]</span></li>
<li><a href='#plotting_plot_stacked_histogram_by_generation'>2.13.5 plot_stacked_histogram_by_generation</a><span style='float:right;'>[page]</span></li></ul>
</li>
<li><a href='#scoring_efields'>2.14 scoring_efields</a><span style='float:right;'>[page]</span>
<ul><li><a href='#scoring_efields_prepare_efields'>2.14.1 prepare_efields</a><span style='float:right;'>[page]</span></li>
<li><a href='#scoring_efields_update_efieldsdf'>2.14.2 update_efieldsdf</a><span style='float:right;'>[page]</span></li></ul>
</li>
<li><a href='#setup_system'>2.15 setup_system</a><span style='float:right;'>[page]</span>
</li>
</ul></li></ul><br><h1 id='introduction'>1. Introduction</h1><br><h2 id='coding_philosophy'>1.1 Coding philosophy</h2><br>AI.zymes is a modular program that seamlessly combines computational methods for design, structure prediction, and machine learning in a coherent enzyme design workflow (Fig. 1). At the core, AI.zymes employes the controller that decides what action to take and assures that the maximum number of design jobs are running in parallel. The controller collects information from the designs and stores them in a shared database, selects which variants to submit for design and decides what type of design or structure prediction to perform with the selected variant. <br><img src='path/to/flow_chart_image.png' alt='General Flow Chart of AI.zymes' style='display: block; margin: 0 auto;'><br><a id='fig_1'></a><br><p class='figure-caption'><b>Fig. 1 | General Flow Chart of AI.zymes.</b> Based on a set of input variables (grey), AI.zymes will be set up and started (yellow). The main program of AI.zymes is the controller (blue), which controls the overall workflow, decides what action to take (salmon, red), and writes information into the databases (green).</p><br><h2 id='available_packages'>1.2 Available Packages</h2><br>Currently established design packages include run_RosettaMatch and run_RosettaDesign. For structure prediction, run_ESMfold_RosettaRelax has been established. The next step will be to establish run_ProteinMPNN for protein design and run_ElectricFields to generate an additional scoring metric based on electrostatic stabilization of the TS. In the future, additional AI and MD packages should be implemented to guide the controller and augment scoring.<br><img src='path/to/packages_image.png' alt='Available packages' style='display: block; margin: 0 auto;'><br><a id='fig_2'></a><br><p class='figure-caption'><b>Fig. 2 | Available packages.</b> Implemented packages are depicted in blue, packages for future implementation are depicted in grey and white based on urgency.</p><br><h3 id='rosettamatch'>1.2.1 RosettaMatch</h3><br>RosettaMatch is an optional design step in AI.zymes that can be used to create de novo active sites. AI.zymes starts from all files in FOLDER_PARENT. If RosettaMatch should not be run, these can also be manually supplied by the user. RosettaMatch screens an input structure for potentially binding sites using an enzdes-type CST file. To that end, the Matcher tries to find pockets that can accommodate the ligand as well as all catalytic residues defined in a constraint file. Importantly, the Matcher ignores all sidechains present in the structure and only recognizes the input structure backbone. The Matcher can thus introduce new pockets and does not rely on structures that already contain a pocket.<br>run_RosettaMatch requires an input WT structure with a ligand molecule positioned roughly where the new active site is to be designed, run_RosettaMatch will relax the structure using run_ESMfold_RosettaRelax, so no initial realax is required. Furthermore, an enzdes-type CST file {LIGAND}_enzdes.cst and a {LIGAND}.params file  must be supplied. Finally, the matcher requires the definition of the central ligand atom {LIGAND}.central and various parameters. <br>run_RosettaMatch produces several Match PDB structures in {FOLDER_HOME}/{FOLDER_MATCH} /matches that contain new catalytic residues and the bound reaction transition state. These structures can be accessed by the main AI.zymes algorithm through FOLDER_PARENT.<br><h3 id='rosettadesign'>1.2.2 RosettaDesign</h3><br><h3 id='esmfold_rosettarelax'>1.2.3 ESMfold_RosettaRelax</h3><br><h2 id='basic_concepts'>1.3 Basic concepts</h2><br><h3 id='system_startup_based_on_input_settings'>1.3.1 System startup based on input settings</h3><br>The system startup involve n optional setup / reset of AI.zymes (setup_aizymes) to start AI.zymes blank. In addition, a startup script is run every time the controller is started to load all necessary information for the controller to run smoothly (startup_controller).<br>To set up the system, various global variables need to be defined (see Globally stored variables). Among others, these include the name of the protein and ligand as well as which residues can be designed. Furthermore, general settings can be set such as how many jobs may run in parallel and how many designs are to be done in total. <br><h3 id='scoring'>1.3.2 Scoring</h3><br>Three different scores have thus far proven valuable to identify promising enzyme designs: The total_score corresponding to the total energy of the system, the interface_score corresponding to the binding energy of the ligand to the protein, as well as the catalytic_score corresponding to the score of the catalytic interaction. AI.zymes uses the concept of potential to select which variants to take forward for design. Potential is aimed to provide some predictive information on the variants. Thus, each potential value corresponds to the arithmetic average of a structure’s score, as well as of the corresponding score from all its directed descendants. To select a variant for design, the total_potential, catalytic_potential, and interface_potential are normalized from 0 to 1 with 1 being the best, and the geometric mean is calculated from these potentials for each variant to give the combined_potential (Eq. 1). Boltzmann selection is performed on the combined_potential to finally identify the variant to be taken forward for design.<br>	combined_potential=∛(total_potential ×interface_potential×catalytic_potential  )	Eq. 1<br><h3 id='databases'>1.3.3 Databases</h3><br>The ALL_SCORES.csv database is the main file that holds all information of the AI.zymes run. Amongst others, ALL_SCORES contains information on the parent scaffold variant, the precise design algorithm used, as well as key scoring metrics obtained from Rosetta. In addition, the BLOCKED.csv database contains a list of all structures that are currently undergoing structure prediction. These structures are excluded from Boltzmann selection, to prevent that structure prediction is needlessly performed multiple times based on the same structure.<br><h3 id='controller'>1.3.4 Controller</h3><br>The controller is the central program of AI.zymes. It constantly cycles between three different scripts. The first scrip (update_scores) checks all designs in ALL_SCORES.csv that do not yet contain any scores. If it finds a finished design, it will update the scores of that design. update_scores also unblocks all indices for which the structure prediction runs are completed. Subsequently, the controller will find the next scaffold for design by Boltzman selection. Only unblocked indices will go into the selection algorithm and selection will be based on the combined_potential. Once an index is selected, the control starts the calculation. To that end, it checks if there is a structure of the selected design that went through ESMfold_RosettaRelax. If not, the controller will start the structure prediction and block the selected index. If there is a relaxed structure, the controller will generate a new index into which the design will be stored. This involved creating a folder for the new design and appending the ALL_SCORES.csv file with the selected index. Finally, the controller will check how many jobs are currently running. It will wait until the number of running jobs is lower than the maximum number of jobs to restart the controller cycle. <br><h3 id='globally_stored_variables'>1.3.5 Globally stored variables</h3><br>Various key variables controlling the behavior of AI.zymes are stored in variables.json. Variables that keep track of the system include the name of the parent structure (PARENT), the name of the bound ligand (LIGAND), a list of residue numbers to repack, design, and restrict (REPACK, DESIGN, RESTRICT), and the remark line that should be added on top of the PDB to define catalytic interactions (REMARK). The overall design flow is controlled by the maximum number of jobs that can run in parallel (MAX_JOBS), the number of jobs that should be run with the parent structure before the selection of the designed structure kicks in (N_PARENT_JOBS) and the maximum number of designs to be performed (MAX_DESIGNS). In addition, specific variables controlling the behavior of specific programs are set, including the Boltzmann temperature used during selection (KBT_BOLTZMANN), the constraint weight biasing design towards the parent sequence (CST_WEIGHT) and the probability to run ProteinMPNN instead of RosettaDesign (ProteinMPNN_PROB) as well as the temperauter used for ProteinMPNN ('ProteinMPNN_T'). Several other variables control the overall file architecture, including the current design folder (DESIGN_FOLDER), the path to Rosetta (ROSETTA_PATH), whether or not to run design in a quick testing mode (EXPLORE), the prefix used for job submission to identify the AI.zymes jobs (SUBMIT_PREFIX), and the identity of the cluster currently used (BLUEPEBBLE or GRID).<h1 id='code'>2. Code</h1><br>
<h2 id='AIzymes'>2.1 AIzymes</h2>
<p>AIzymes Project Main Workflow
<br>
This script defines the main AIzymes workflow, including setup, initialization, control, and plotting functions.
It manages the primary processes and configurations required to execute AIzymes functionalities.
<br>
<span style='color:gray; font-weight:bold;'>Classes</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>AIzymes_MAIN                         </td><td style='font-size: 12px;'>Manages the main workflow for AIzymes, including setup, initialization, and various control functions.</td></tr>
</table><br>
<br>
<span style='color:gray; font-weight:bold;'>Functions</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>__init__()                         </td><td style='font-size: 12px;'>Initializes an instance of the AIzymes_MAIN class.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>setup()                         </td><td style='font-size: 12px;'>Sets up the AIzymes project environment with specified parameters.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>initialize()                         </td><td style='font-size: 12px;'>Initializes AIzymes with provided configurations.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>controller()                         </td><td style='font-size: 12px;'>Controls the AIzymes project based on scoring and normalization parameters.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>plot()                         </td><td style='font-size: 12px;'>Generates various plots based on AIzymes data.</td></tr>
</table><br></p><br>
<h3 id='AIzymes_AIzymes_MAIN'>2.1.1 AIzymes_MAIN</h3>Main class for managing AIzymes workflow, including setup, initialization, control, and plotting functions.<br>
<h3 id='AIzymes___init__'>2.1.2 __init__</h3>Initializes an instance of the AIzymes_MAIN class.<br>
<h3 id='AIzymes_setup'>2.1.3 setup</h3>Sets up the AIzymes project environment with specified parameters.
<br>
<span style='color:gray; font-weight:bold;'>Args</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>FOLDER_HOME (str)                         </td><td style='font-size: 12px;'>Path to the main folder.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>FOLDER_PARENT (str)                         </td><td style='font-size: 12px;'>Path to the parent folder.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>CST_NAME (str)                         </td><td style='font-size: 12px;'>Constraint name.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>WT (str)                         </td><td style='font-size: 12px;'>Wild type information.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>LIGAND (str)                         </td><td style='font-size: 12px;'>Ligand data.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>DESIGN (str)                         </td><td style='font-size: 12px;'>Design specifications.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>MAX_JOBS (int)                         </td><td style='font-size: 12px;'>Maximum number of jobs to run concurrently.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>N_PARENT_JOBS (int)                         </td><td style='font-size: 12px;'>Number of parent jobs.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>MAX_DESIGNS (int)                         </td><td style='font-size: 12px;'>Maximum number of designs.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>KBT_BOLTZMANN (list)                         </td><td style='font-size: 12px;'>Boltzmann constant values.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>CST_WEIGHT (float)                         </td><td style='font-size: 12px;'>Constraint weight.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>ProteinMPNN_PROB (float)                         </td><td style='font-size: 12px;'>Probability parameter for ProteinMPNN.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>ProteinMPNN_BIAS (float)                         </td><td style='font-size: 12px;'>Bias parameter for ProteinMPNN.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>LMPNN_PROB (float)                         </td><td style='font-size: 12px;'>Probability parameter for LMPNN.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>FOLDER_MATCH (str)                         </td><td style='font-size: 12px;'>Path to match folder.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>ProteinMPNN_T (str)                         </td><td style='font-size: 12px;'>Temperature for ProteinMPNN.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>LMPNN_T (str)                         </td><td style='font-size: 12px;'>Temperature for LMPNN.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>LMPNN_BIAS (float)                         </td><td style='font-size: 12px;'>Bias parameter for LMPNN.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>SUBMIT_PREFIX (str)                         </td><td style='font-size: 12px;'>Submission prefix.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>SYSTEM (str)                         </td><td style='font-size: 12px;'>System information.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>MATCH (str)                         </td><td style='font-size: 12px;'>Match specifications.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>EXPLORE (bool)                         </td><td style='font-size: 12px;'>Whether to explore parameter space.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>FIELD_TARGET (str)                         </td><td style='font-size: 12px;'>Target atoms at which to calculate electric field.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>LOG (str)                         </td><td style='font-size: 12px;'>Logging level.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>PARENT_DES_MED (str)                         </td><td style='font-size: 12px;'>Parent design method.</td></tr>
</table><br><br>
<h3 id='AIzymes_initialize'>2.1.4 initialize</h3>Initializes AIzymes with given parameters.
<br>
<span style='color:gray; font-weight:bold;'>Args</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>FOLDER_HOME (str)                         </td><td style='font-size: 12px;'>Path to the main folder.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>UNBLOCK_ALL (bool)                         </td><td style='font-size: 12px;'>Flag to unblock all processes.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>PRINT_VAR (bool)                         </td><td style='font-size: 12px;'>Flag to print variables.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>PLOT_DATA (bool)                         </td><td style='font-size: 12px;'>Flag to plot data.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>LOG (str)                         </td><td style='font-size: 12px;'>Logging level.</td></tr>
</table><br><br>
<h3 id='AIzymes_controller'>2.1.5 controller</h3>Controls the AIzymes project based on scoring and normalization parameters.
<br>
<span style='color:gray; font-weight:bold;'>Args</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>HIGHSCORE (float)                         </td><td style='font-size: 12px;'>High score threshold for evaluation.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>NORM (dict)                         </td><td style='font-size: 12px;'>Normalization values for different scores.</td></tr>
</table><br><br>
<h3 id='AIzymes_plot'>2.1.6 plot</h3>Generates plots based on AIzymes data, including main, tree, and landscape plots.
<br>
<span style='color:gray; font-weight:bold;'>Args</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>main_plots (bool)                         </td><td style='font-size: 12px;'>Flag to generate main plots.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>tree_plot (bool)                         </td><td style='font-size: 12px;'>Flag to generate tree plot.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>landscape_plot (bool)                         </td><td style='font-size: 12px;'>Flag to generate landscape plot.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>print_vals (bool)                         </td><td style='font-size: 12px;'>Flag to print values on plots.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>NORM (dict)                         </td><td style='font-size: 12px;'>Normalization values for different scores.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>HIGHSCORE_NEGBEST (dict)                         </td><td style='font-size: 12px;'>High score and negative best score for different metrics.</td></tr>
</table><br><br>
<h2 id='design_ESMfold'>2.2 design_ESMfold</h2>
<p>Design ESMfold Module
<br>
Manages the structure prediction of protein sequences using ESMfold within the AIzymes project.
<br>
<span style='color:gray; font-weight:bold;'>Functions</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>- prepare_ESMfold                         </td><td style='font-size: 12px;'>Prepares commands for ESMfold job submission.</td></tr>
</table><br></p><br>
<h3 id='design_ESMfold_prepare_ESMfold'>2.2.1 prepare_ESMfold</h3>Predicts structure of sequence in {index} using ESMfold.
<br>
Parameters:
index (str): The index of the protein variant to be predicted.
cmd (str): Growing list of commands to be exected by run_design using submit_job.
<br>
<span style='color:gray; font-weight:bold;'>Returns</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>cmd (str)                         </td><td style='font-size: 12px;'>Command to be exected by run_design using submit_job.</td></tr>
</table><br><br>
<h2 id='design_LigandMPNN'>2.3 design_LigandMPNN</h2>
<p>NOTE: NOT WORKING YET!
<br>
Integrates LigandMPNN for generating protein sequences adapted to specific ligand contexts.
<br>
<span style='color:gray; font-weight:bold;'>Functions</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>prepare_LigandMPNN                         </td><td style='font-size: 12px;'>Executes LigandMPNN steps to adapt protein designs with ligand binding considerations.</td></tr>
</table><br>
<br>
<span style='color:gray; font-weight:bold;'>Modules Required</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%;'> </th><th style='text-align:left;'> </th></tr>
helper_001
</table><br></p><br>
<h3 id='design_LigandMPNN_prepare_LigandMPNN'>2.3.1 prepare_LigandMPNN</h3>Executes the LigandMPNN pipeline for a given protein-ligand structure and generates
new protein sequences with potentially higher functional scores considering the ligand context.
<br>
Parameters:
- parent_index (str): The index of the parent protein variant.
- new_index (str): The index assigned to the new protein variant.
- all_scores_df (DataFrame): A DataFrame containing information for protein variants.<br>
<h2 id='design_match'>2.4 design_match</h2>
<p>Design Match Module
<br>
Provides functionalities for matching protein designs with specific constraints
and requirements in the AIzymes workflow.
<br>
<span style='color:gray; font-weight:bold;'>Functions</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>- prepare_LigandMPNN                         </td><td style='font-size: 12px;'>Executes the LigandMPNN pipeline for protein-ligand structure adaptation.</td></tr>
</table><br>
<br>
<span style='color:gray; font-weight:bold;'>Modules Required</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%;'> </th><th style='text-align:left;'> </th></tr>
- helper_001
</table><br></p><br>
<h2 id='design_ProteinMPNN'>2.5 design_ProteinMPNN</h2>
<p>Manages ProteinMPNN design steps to generate protein sequences tailored for specific
functional and structural properties in the AIzymes project.
<br>
This function assumes the ProteinMPNN toolkit is available and properly set up in the specified location.
It involves multiple subprocess calls to Python scripts for processing protein structures and generating new sequences.
<br>
<span style='color:gray; font-weight:bold;'>Functions</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>prepare_ProteinMPNN                         </td><td style='font-size: 12px;'>Sets up commands for ProteinMPNN job submission.</td></tr>
</table><br>
<br>
<span style='color:gray; font-weight:bold;'>Modules Required</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%;'> </th><th style='text-align:left;'> </th></tr>
helper_001
</table><br></p><br>
<h3 id='design_ProteinMPNN_prepare_ProteinMPNN'>2.5.1 prepare_ProteinMPNN</h3>Executes the ProteinMPNN pipeline for a given protein structure and generates
new protein sequences with potentially higher functional scores.
<br>
<span style='color:gray; font-weight:bold;'>Args</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>new_index (str)                         </td><td style='font-size: 12px;'>The index of the designed variant.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>cmd (str)                         </td><td style='font-size: 12px;'>Growing list of commands to be exected by run_design using submit_job.</td></tr>
</table><br>
<br>
<span style='color:gray; font-weight:bold;'>Returns</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>cmd (str)                         </td><td style='font-size: 12px;'>Command to be exected by run_design using submit_job</td></tr>
</table><br><br>
<h2 id='design_RosettaDesign'>2.6 design_RosettaDesign</h2>
<p>Handles RosettaDesign steps to optimize protein design scores and enhance stability
within the AIzymes project.
<br>
<span style='color:gray; font-weight:bold;'>Functions</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>prepare_RosettaDesign                         </td><td style='font-size: 12px;'>Prepares RosettaDesign commands for job submission.</td></tr>
</table><br>
<br>
<span style='color:gray; font-weight:bold;'>Modules Required</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%;'> </th><th style='text-align:left;'> </th></tr>
helper_001
</table><br></p><br>
<h3 id='design_RosettaDesign_prepare_RosettaDesign'>2.6.1 prepare_RosettaDesign</h3>Designs protein structure in {new_index} based on {parent_index} using RosettaDesign.
<br>
<span style='color:gray; font-weight:bold;'>Args</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>parent_index (str)                         </td><td style='font-size: 12px;'>Index of the parent protein variant to be designed.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>new_index (str)                         </td><td style='font-size: 12px;'>Index assigned to the resulting design.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>input_suffix (str)                         </td><td style='font-size: 12px;'>Suffix of the input structure to be used for design.</td></tr>
</table><br>
<br>
<span style='color:gray; font-weight:bold;'>Returns</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>cmd (str)                         </td><td style='font-size: 12px;'>Command to be exected by run_design using submit_job.</td></tr>
</table><br><br>
<h2 id='design_RosettaRelax'>2.7 design_RosettaRelax</h2>
<p>Executes RosettaRelax to refine protein structures and improve stability in the AIzymes project.
<br>
<span style='color:gray; font-weight:bold;'>Functions</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>prepare_RosettaRelax                         </td><td style='font-size: 12px;'>Sets up commands for RosettaRelax job submission.</td></tr>
</table><br>
<br>
<span style='color:gray; font-weight:bold;'>Modules Required</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%;'> </th><th style='text-align:left;'> </th></tr>
helper_001
</table><br></p><br>
<h3 id='design_RosettaRelax_prepare_RosettaRelax'>2.7.1 prepare_RosettaRelax</h3>Relaxes protein structure in {index} using RosettaRelax.
<br>
Args index (str): The index of the protein variant to be relaxed.
cmd (str): collection of commands to be run, this script wil append its commands to cmd
<br>
Optional parameters:
PreMatchRelax (bool): True if ESMfold to be run without ligand (prior to RosettaMatch).<br>
<h2 id='helper'>2.8 helper</h2>
<p>Contains utility functions and supporting routines used across multiple modules
within the AIzymes project.
<br>
<span style='color:gray; font-weight:bold;'>Functions</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
- normalize_scores
- one_to_three_letter_aa
- run_command
- get_PDB_in
- load_main_variables
- save_main_variables
- submit_job
- sequence_from_pdb
- generate_remark_from_all_scores_df
- save_cat_res_into_all_scores_df
- reset_to_after_parent_design
- reset_to_after_index
- save_all_scores_df
- get_best_structures
- remove_intersection_best_structures
- trace_mutation_tree
- print_average_scores
- wait_for_file
- hamming_distance
- exponential_func
</table><br>
<br>
<span style='color:gray; font-weight:bold;'>Modules Required</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%;'> </th><th style='text-align:left;'> </th></tr>
setup_system_001
</table><br></p><br>
<h3 id='helper_run_command'>2.8.1 run_command</h3>Wrapper to execute .py files in runtime with arguments, and print error messages if they occur.
<br>
Parameters:
command: The command to run as a list of strings.
cwd: Optional; The directory to execute the command in.
capture_output: Optional; If True, capture stdout and stderr. Defaults to False (This is to conserve memory).<br>
<h3 id='helper_get_PDB_in'>2.8.2 get_PDB_in</h3>Based on index, find the input PDB files for the AIzymes modules
<br>
Paramters:
- index: The indix of the current design
<br>
Output:
- PDBfile_Design_in: Input file for RosettaDesign
- PDBfile_Relax_in: Input file for RosettaRelax
- PDBfile_Relax_ligand_in: Input file for Ligand to be used in RosettaRelax<br>
<h3 id='helper_save_cat_res_into_all_scores_df'>2.8.3 save_cat_res_into_all_scores_df</h3>Finds the indices and names of the catalytic residue from <PDB_file_path>
Saves indices and residues into <all_scores_df> in row <index> as lists.
To make sure these are saved and loaded as list, ";".join() and .split(";") should be used
If information is read from an input structure for design do not save cat_resn<br>
<h3 id='helper_reset_to_after_index'>2.8.4 reset_to_after_index</h3>This function resets the run back to a chosen index. It removes all later entries from the all_scores.csv and the home dir.
index: The last index to keep, after which everything will be deleted.<br>
<h3 id='helper_wait_for_file'>2.8.5 wait_for_file</h3>Wait for a file to exist and have a non-zero size.<br>
<h2 id='main_design'>2.9 main_design</h2>
<p>Main Design Module
<br>
Coordinates various design steps, managing the workflow of Rosetta, ProteinMPNN, and other modules
within the AIzymes project.
<br>
<span style='color:gray; font-weight:bold;'>Functions</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>- get_ram                         </td><td style='font-size: 12px;'>Determines RAM allocation for design steps.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>- run_design                         </td><td style='font-size: 12px;'>Runs the selected design steps based on configuration.</td></tr>
</table><br>
<br>
<span style='color:gray; font-weight:bold;'>Modules Required</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%;'> </th><th style='text-align:left;'> </th></tr>
- helper_001, design_match_001, design_ProteinMPNN_001, design_LigandMPNN_001,
design_RosettaDesign_001, design_ESMfold_001, design_RosettaRelax_001
</table><br></p><br>
<h2 id='main_running'>2.10 main_running</h2>
<p>main_running_001.py
<br>
This module contains the main control functions for managing the AIzymes workflow, including job submission,
score updating, and Boltzmann selection. The functions in this file are responsible for the high-level management
of the design process, interacting with the AIzymes_MAIN class to initiate, control, and evaluate design variants.
<br>
<span style='color:gray; font-weight:bold;'>Classes</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
None
</table><br>
<br>
<span style='color:gray; font-weight:bold;'>Functions</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
start_controller(self)
check_running_jobs(self)
update_potential(self, score_type, index)
update_scores(self)
boltzmann_selection(self)
check_parent_done(self)
start_parent_design(self)
start_calculation(self, parent_index)
create_new_index(self, parent_index)
</table><br></p><br>
<h3 id='main_running_start_controller'>2.10.1 start_controller</h3>Runs the main loop to manage the design process until the maximum number of designs is reached.
<br>
Continues submitting jobs, monitoring running processes, and updating scores based on Boltzmann selection
until `MAX_DESIGNS` is achieved. The function pauses or starts new designs based on system resources.
<br>
Parameters:
self: An instance of the AIzymes_MAIN class with setup attributes and properties.<br>
<h3 id='main_running_check_running_jobs'>2.10.2 check_running_jobs</h3>Checks the current number of running jobs based on the system type.
<br>
Depending on the value of `SYSTEM`, this function counts the active jobs in GRID, BLUEPEBBLE, BACKGROUND_JOB,
or ABBIE_LOCAL systems.
<br>
<span style='color:gray; font-weight:bold;'>Returns</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>int                         </td><td style='font-size: 12px;'>Number of running jobs for the specific system.</td></tr>
</table><br><br>
<h3 id='main_running_update_potential'>2.10.3 update_potential</h3>Updates the potential file for a given score type at the specified variant index.
<br>
Creates or appends to a `<score_type>_potential.dat` file in `FOLDER_HOME/<index>`, calculating and
updating potentials for the parent variant if necessary.
<br>
Parameters:
score_type (str): Type of score to update (e.g., total, interface, catalytic, efield).
index (int): Variant index to update potential data.<br>
<h3 id='main_running_update_scores'>2.10.4 update_scores</h3>Updates various scores, including total, interface, catalytic, and efield scores for each design variant.
<br>
This function iterates over design variants, updating scores based on files generated by different processes.
It also updates sequence information, tracks mutations, and saves the updated DataFrame.
<br>
Parameters:
self: An instance of the AIzymes_MAIN class with setup attributes and properties.<br>
<h3 id='main_running_boltzmann_selection'>2.10.5 boltzmann_selection</h3>Selects a design variant based on a Boltzmann-weighted probability distribution.
<br>
Filters variants based on certain conditions (e.g., scores, block status), then computes probabilities
using Boltzmann factors with a temperature factor (`KBT_BOLTZMANN`) to select a variant for further design steps.
<br>
<span style='color:gray; font-weight:bold;'>Returns</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>int                         </td><td style='font-size: 12px;'>Index of the selected design variant.</td></tr>
</table><br><br>
<h3 id='main_running_check_parent_done'>2.10.6 check_parent_done</h3>Determines if parent designs are complete based on the number of generated designs and parent jobs.
<br>
<span style='color:gray; font-weight:bold;'>Returns</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>bool                         </td><td style='font-size: 12px;'>True if parent designs are complete, otherwise False.</td></tr>
</table><br><br>
<h3 id='main_running_start_parent_design'>2.10.7 start_parent_design</h3>Initiates a new design process for a parent structure by creating a new variant entry.
<br>
Sets up the required files and configuration for designing a parent structure, then calls the design method
specified in `PARENT_DES_MED`.
<br>
Parameters:
self: An instance of the AIzymes_MAIN class with setup attributes and properties.<br>
<h3 id='main_running_start_calculation'>2.10.8 start_calculation</h3>Decides the next calculation step for the specified design variant index.
<br>
Based on the current design state, this function decides to run ESMfold, RosettaRelax, or a design method
for the given index.
<br>
Parameters:
parent_index (int): Index of the variant to evaluate for further calculations.<br>
<h3 id='main_running_create_new_index'>2.10.9 create_new_index</h3>Creates a new design entry in `all_scores_df` with a unique index, inheriting attributes from a parent variant.
<br>
Updates the DataFrame with new index information, saves the updated file, and sets up the directory structure
for the new design variant.
<br>
Parameters:
parent_index (str): The index of the parent variant or "Parent" for initial designs.
<br>
<span style='color:gray; font-weight:bold;'>Returns</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>int                         </td><td style='font-size: 12px;'>The newly created index for the variant.</td></tr>
</table><br><br>
<h2 id='main_scripts'>2.11 main_scripts</h2>
<h2 id='main_startup'>2.12 main_startup</h2>
<h2 id='plotting'>2.13 plotting</h2>
<h3 id='plotting_plot_interface_v_total_score_selection'>2.13.1 plot_interface_v_total_score_selection</h3>Plots a scatter plot of total_scores vs interface_scores and highlights the points
corresponding to the selected indices.
<br>
Parameters:
- ax (matplotlib.axes.Axes): The Axes object to plot on.
- total_scores (list or np.array): The total scores of the structures.
- interface_scores (list or np.array): The interface scores of the structures.
- selected_indices (list of int): Indices of the points to highlight.<br>
<h3 id='plotting_plot_interface_v_total_score_generation'>2.13.2 plot_interface_v_total_score_generation</h3>Plots a scatter plot of total_scores vs interface_scores and colors the points
according to the generation for all data points, using categorical coloring.
Adds a legend to represent each unique generation with its corresponding color.
<br>
Parameters:
- ax (matplotlib.axes.Axes): The Axes object to plot on.
- total_scores (list or np.array): The total scores of the structures.
- interface_scores (list or np.array): The interface scores of the structures.
- generation (pd.Series or np.array): Generation numbers for all data points.<br>
<h3 id='plotting_plot_stacked_histogram_by_cat_resi'>2.13.3 plot_stacked_histogram_by_cat_resi</h3>Plots a stacked bar plot of interface scores colored by cat_resi on the given Axes object,
where each bar's segments represent counts of different cat_resi values in that bin.
<br>
Parameters:
- ax (matplotlib.axes.Axes): The Axes object to plot on.
- all_scores_df (pd.DataFrame): DataFrame containing 'cat_resi' and 'interface_score' columns.
- color_map (dict): Optional; A dictionary mapping catalytic residue indices to colors.
- show_legend (bool): Optional; Whether to show the legend. Defaults to False.<br>
<h3 id='plotting_plot_stacked_histogram_by_cat_resn'>2.13.4 plot_stacked_histogram_by_cat_resn</h3>Plots a stacked bar plot of interface scores colored by cat_resn on the given Axes object,
where each bar's segments represent counts of different cat_resn values in that bin.
<br>
Parameters:
- ax (matplotlib.axes.Axes): The Axes object to plot on.
- all_scores_df (pd.DataFrame): DataFrame containing 'cat_resn' and 'interface_score' columns.<br>
<h3 id='plotting_plot_stacked_histogram_by_generation'>2.13.5 plot_stacked_histogram_by_generation</h3>Plots a stacked bar plot of interface scores colored by generation on the given Axes object,
where each bar's segments represent counts of different generation values in that bin.
<br>
Parameters:
- ax (matplotlib.axes.Axes): The Axes object to plot on.
- all_scores_df (pd.DataFrame): DataFrame containing 'generation' and 'interface_score' columns.<br>
<h2 id='scoring_efields'>2.14 scoring_efields</h2>
<h3 id='scoring_efields_prepare_efields'>2.14.1 prepare_efields</h3>Calculate electric fields for structure in {index}.
<br>
<span style='color:gray; font-weight:bold;'>Args</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>index (str)                         </td><td style='font-size: 12px;'>The index of the protein variant for whcih efields are to be calculated.</td></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>cmd (str)                         </td><td style='font-size: 12px;'>Growing list of commands to be exected by run_design using submit_job.</td></tr>
</table><br>
<br>
<span style='color:gray; font-weight:bold;'>Returns</span>
<table style='width:100%; border-collapse: collapse;'><tr><th style='text-align:left; width:30%; border-bottom: 1px solid #999;'> </th><th style='text-align:left; border-bottom: 1px solid #999;'> </th></tr>
<tr><td style='padding-right: 10px; font-size: 12px;'>cmd (str)                         </td><td style='font-size: 12px;'>Command to be exected by run_design using submit_job.</td></tr>
</table><br><br>
<h3 id='scoring_efields_update_efieldsdf'>2.14.2 update_efieldsdf</h3>Adds a new row to "{FOLDER_HOME}/electric_fields.csv" containing the electric fields
generated by FieldTools.py for all residues in the protein<br>
<h2 id='setup_system'>2.15 setup_system</h2>
<p>Contains system specifc information. At the Moment, this is all hard-coded.
In the future, this will be part of the installation of AIzymes.
<br>
set_system() contains general variables.
submit_head() constructs the submission header to submit jobs.</p><br>